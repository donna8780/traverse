# Traverse

<p align="center">
<img src="https://github.com/user-attachments/assets/ba9fe018-a399-4b50-bfbc-36b761f90f18" width="20%" height="30%">

## ì›¹ ê°œë°œíŒ€ 

* ê°œë°œ ê¸°ê°„ : 2024.07~2024.09 (ì•½ 6ì£¼)
* ê°œë°œ ì¸ì› : 5ëª…


## í”„ë¡œì íŠ¸ ì†Œê°œ

### êµ­ë‚´ ì—¬í–‰ì§€ ì¶”ì²œ ë° ì¼ì • ê³„íš ì‚¬ì´íŠ¸

ì§€ë„ APIë¥¼ í™œìš©í•˜ì—¬ ì‚¬ìš©ìëŠ” ì§€ë„ ìƒì—ì„œ ì§ê´€ì ìœ¼ë¡œ ì—¬í–‰ì§€ë¥¼ íƒìƒ‰í•  ìˆ˜ ìˆìœ¼ë©°, íˆ¬ì–´ APIë¥¼ í†µí•´ ê° ì¥ì†Œì˜ ìƒì„¸ ì •ë³´ì™€ ì¶”ì²œ ëª…ì†Œë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ë˜í•œ, ì‚¬ìš©ìì˜ ì„ í˜¸ë„ì™€ ì—¬í–‰ ìŠ¤íƒ€ì¼ì„ ë°˜ì˜í•œ ë§ì¶¤í˜• ì—¬í–‰ì§€ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ì´ ì ìš©ë˜ì–´, ê°œì¸í™”ëœ ì—¬í–‰ì§€ ëª©ë¡ì„ ì œê³µí•©ë‹ˆë‹¤. ì‚¬ìš©ìëŠ” ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‰½ê²Œ ì¼ì •ì„ êµ¬ì„±í•˜ê³ , ì¶”ê°€ì ì¸ ì—¬í–‰ ì •ë³´ë¥¼ ë°›ì•„ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì—¬í–‰ì§€ ì •ë³´ë¿ë§Œ ì•„ë‹ˆë¼, ìˆ™ë°•, ë§›ì§‘, ê´€ê´‘ì§€ ë“±ì„ í•œëˆˆì— í™•ì¸í•  ìˆ˜ ìˆì–´ ë”ìš± í¸ë¦¬í•œ ì—¬í–‰ ê³„íš ìˆ˜ë¦½ì´ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„í•˜ì˜€ìŠµë‹ˆë‹¤.

## Stacks ğŸˆ

|ì œëª©|ë‚´ìš©|
|------|---|
|Language|<img src="https://img.shields.io/badge/java-007396?style=for-the-badge&logo=java&logoColor=white"> <img src="https://img.shields.io/badge/html5-E34F26?style=for-the-badge&logo=html5&logoColor=white"> <img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black"> <img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white"> |
|Frame Work|<img src="https://img.shields.io/badge/springboot-6DB33F?style=for-the-badge&logo=springboot&logoColor=white"> |
|Build Tool|<img src="https://img.shields.io/badge/gradle-02303A?style=for-the-badge&logo=gradle&logoColor=white">|
|Database|<img src="https://img.shields.io/badge/mysql-4479A1.svg?style=for-the-badge&logo=mysql&logoColor=white">|
|Frontend|<img src="https://img.shields.io/badge/html5-E34F26?style=for-the-badge&logo=html5&logoColor=white"> <img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white"> <img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black">|
|Library|<img src="https://img.shields.io/badge/Thymeleaf-%23005C0F.svg?style=for-the-badge&logo=Thymeleaf&logoColor=white">,<img src="https://img.shields.io/badge/bootstrap-%238511FA.svg?style=for-the-badge&logo=bootstrap&logoColor=white">|
|Server|<img src="https://img.shields.io/badge/amazonaws-232F3E?style=for-the-badge&logo=amazonaws&logoColor=white"><img src="https://img.shields.io/badge/apache%20tomcat-%23F8DC75.svg?style=for-the-badge&logo=apache-tomcat&logoColor=black">|
|Version Control|<img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white">|
|Social|<img src="https://img.shields.io/badge/Discord-%235865F2.svg?style=for-the-badge&logo=discord&logoColor=white">|

## í™”ë©´ êµ¬ì„± ğŸ“º

### 0. ë©”ì¸í˜ì´ì§€

ì‹¤ì‹œê°„ ë‚ ì”¨ ì •ë³´ í™•ì¸ ë° ì§€ì—­ë³„ ì§€ë„ í´ë¦­ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

<p align="center">
<img src="https://github.com/user-attachments/assets/9899c60f-b674-42f9-baf4-c09bda4432c9" width="30%">
<img src="https://github.com/user-attachments/assets/3cae7909-6dec-4cac-9127-258375b32aab" width="30%">
<img src="https://github.com/user-attachments/assets/61117121-f5f2-4b7e-bd4e-8ca8303bda8f" width="30%">
</p>

### 1. ë¡œê·¸ì¸/íšŒì›ê°€ì…

ì‚¬ìš©ìëŠ” ë¡œê·¸ì¸ ë° íšŒì›ê°€ì…ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<p align="center">
<img src="https://github.com/user-attachments/assets/e39b9058-b45f-4c89-bc58-c76bde2282f1" width="40%">

### 2. ë§ˆì´í˜ì´ì§€

í”„ë¡œí•„ ë“±ë¡ ë° ìˆ˜ì •, íƒˆí‡´ ê¸°ëŠ¥ì„ ì œê³µí•˜ë©°, ë³¸ì¸ì˜ ì—¬í–‰ í›„ê¸°ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<p align="center">
<img src="https://github.com/user-attachments/assets/daac15de-b45b-4fef-9f90-ac6f548f402e" width="30%">
  <img src="https://github.com/user-attachments/assets/0f01ba8e-1033-45a8-b4ec-40841d7c8083" width="30%">
</p>

### 3. ì°œ ëª©ë¡

ì‚¬ìš©ìê°€ 'ì¢‹ì•„ìš”'í•œ ì°œ ëª©ë¡ì„ í™•ì¸í•  ìˆ˜ ìˆìœ¼ë©°, í•´ë‹¹ ëª©ë¡ì€ ì§€ë„ì™€ í•¨ê»˜ ë§ˆì»¤ë¡œ í‘œì‹œë©ë‹ˆë‹¤.

<p align="center">
<img src="https://github.com/user-attachments/assets/90de882b-b07a-48e2-bff0-793e4ab9fb47" width="40%">

### 4. ê³ ê° ì§€ì›

ììœ ê²Œì‹œíŒì—ì„œ ê²Œì‹œê¸€ ì‘ì„±, ìˆ˜ì •, ì‚­ì œê°€ ê°€ëŠ¥í•˜ë©°, ëŒ“ê¸€ ì‘ì„±, ìˆ˜ì •, ì‚­ì œ ê¸°ëŠ¥ë„ ì œê³µí•©ë‹ˆë‹¤.

<p align="center">

<img src="https://github.com/user-attachments/assets/8f872cfc-8561-484d-a291-d2ddb2da407a" width="30%">
<img src="https://github.com/user-attachments/assets/3e7b92ad-fc8a-4d16-a0a9-2a2da9fdff34" width="30%">
<img src="https://github.com/user-attachments/assets/e77367a6-5d19-44b3-ad08-2ad36fc5db49" width="30%">
</p>

### 5. ì—¬í–‰ ê³„íš

ì‚¬ìš©ìê°€ ì‘ì„±í•œ ì—¬í–‰ ê³„íšì„ ì§€ë„ì— ë§ˆì»¤ë¡œ í‘œì‹œí•˜ì—¬ í™•ì¸í•  ìˆ˜ ìˆìœ¼ë©°, ê³„íšì„ ìˆ˜ì • ë° ì‚­ì œí•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.


<p align="center">
  <img src="https://github.com/user-attachments/assets/22cc5cc2-7289-4426-bf43-8d27b1ee5272" width="30%">
  <img src="https://github.com/user-attachments/assets/2ec91a49-01c4-4fd8-a306-a39108aa7490" width="30%">
  <img src="https://github.com/user-attachments/assets/bd4f5306-d06f-4c66-9d98-4941497394e0" width="30%">
</p>


### 6. ìƒì„¸ í˜ì´ì§€

í•´ë‹¹ ì§€ì—­ì—ì„œ ì¶”ì²œëœ ì¥ì†Œë¥¼ í´ë¦­í•˜ë©´, ì¥ì†Œì— ëŒ€í•œ ìƒì„¸ í˜ì´ì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ, í›„ê¸° ë° ë³„ì ì„ ë‚¨ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<p align="center">
<img src="https://github.com/user-attachments/assets/07f26b09-e8b1-4468-85f1-956d41107a6f" width="30%">
   
### 6. ìˆ™ì†Œ ê²€ìƒ‰

ì‚¬ìš©ìê°€ ì§€ì—­ì„ ê²€ìƒ‰í•˜ê±°ë‚˜ í´ë¦­í•˜ë©´ í•´ë‹¹ ì§€ì—­ì˜ ì¶”ì²œ ìˆ™ì†Œ ëª©ë¡ì´ ë‚˜íƒ€ë‚˜ë©°, ìˆ™ì†Œ í´ë¦­ ì‹œ ì˜ˆì•½ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.

<p align="center">
<img src="https://github.com/user-attachments/assets/9011ed84-118c-4902-b7a6-3b7beeb3b962" width="30%">
<img src="https://github.com/user-attachments/assets/bc1a7f45-eec6-47c2-aca3-856468fbc1df" width="30%">
</p>

### 7. ê¸¸ ì°¾ê¸°
   
ì¶œë°œì§€ì™€ ë„ì°©ì§€ë¥¼ ì…ë ¥í•˜ë©´ ì§€ë„ ìƒì— ë§ˆì»¤ë¡œ í‘œì‹œë˜ë©°, êµí†µì •ë³´ë³´ê¸° ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ì¹´ì¹´ì˜¤ë§µìœ¼ë¡œ ì´ë™í•´ ì¶”ê°€ ì •ë³´ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë•Œ, ë³„ë„ì˜ ì£¼ì†Œ ì¬ì…ë ¥ì€ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.


<p align="center">
<img src="https://github.com/user-attachments/assets/a0b6ece6-3a05-47ca-ad55-4e0d0152ba41" width="30%">
<img src="https://github.com/user-attachments/assets/e636ab2a-dbbb-47cc-af08-52d7fdd23696" width="30%">
</p>

### 8. ì—¬í–‰ í›„ê¸°

 ì‚¬ìš©ìë“¤ì´ ì‘ì„±í•œ ì—¬í–‰ í›„ê¸°ê°€ ë¬´ì‘ìœ„ë¡œ í‘œì‹œë˜ë©°, ê²€ìƒ‰ ê¸°ëŠ¥ì„ í†µí•´ íŠ¹ì • ì§€ì—­ì˜ í›„ê¸°ë§Œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ, ì‚¬ìš©ìëŠ” ì—¬í–‰ í›„ê¸°ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
 
<p align="center">
<img src="https://github.com/user-attachments/assets/531f159c-5964-4c66-b159-c3cc9ad47e27" width="30%">
<img src="https://github.com/user-attachments/assets/c92e4ae5-a23d-4861-9e6b-3615cfaae643" width="30%">
</p>

## ì½”ë“œ ë¦¬ë·° ğŸ“

#### 0. ë©”ì¸ í˜ì´ì§€

##### VIEW - ì²´í¬ë°•ìŠ¤ ìƒíƒœ ë³€ê²½
```
checkbox.checked = !checkbox.checked;

if (checkbox.checked) {
    button.classList.add('checked');
} else {
    button.classList.remove('checked');
}

```
ì—¬í–‰í•  ì§€ì—­ì„ í´ë¦­í•˜ë©´ í•´ë‹¹ ì²´í¬ë°•ìŠ¤ì˜ ìƒíƒœë¥¼ ë°˜ì „ì‹œí‚¤ê³  ë²„íŠ¼ ìŠ¤íƒ€ì¼ì„ ë³€ê²½.


##### í¼ ìœ íš¨ì„± ê²€ì‚¬
```
if (checkedCheckboxes === 0) {
    alert('ì—¬í–‰í•  ì§€ì—­ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
    return false;
}

if (checkedCheckboxes > maxSelections) {
    alert('í•˜ë‚˜ì˜ ì§€ì—­ë§Œ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.');
    return false;
}

```
ì‚¬ìš©ìê°€ ì²´í¬ë°•ìŠ¤ë¥¼ ì„ íƒí•˜ì§€ ì•Šì•˜ê±°ë‚˜, ì„ íƒí•œ ì²´í¬ë°•ìŠ¤ì˜ ìˆ˜ê°€ ìµœëŒ€ ì„ íƒ ê°€ëŠ¥ ìˆ˜ë¥¼ ì´ˆê³¼í•˜ëŠ” ê²½ìš° ê²½ê³  ë©”ì‹œì§€ë¥¼ í‘œì‹œí•˜ê³  í¼ ì œì¶œì„ ë°©ì§€

##### Controller - ì˜ˆ)ì§€ë„ ìƒì—ì„œ ê²½ê¸°ë„ í´ë¦­

```
@PostMapping("/gyeonggi")
public ModelAndView gyeonggi(@RequestParam(name = "gyeonggi", required = false) List<Integer> selectePlaces, HttpSession session) {
    ModelAndView mav = new ModelAndView();
    
    AccountsVO user = (AccountsVO) session.getAttribute("user");
    
    if (user == null) {
        mav.setViewName("redirect:/member/login");
        return mav;
    }
    
    int a_idx = user.getAccounts_idx();
    
    int sigunguCode1 = 0, sigunguCode2 = 0, sigunguCode3 = 0;

    if (selectePlaces != null && !selectePlaces.isEmpty()) {
        for (int i = 0; i < selectePlaces.size(); i++) {
            int place = selectePlaces.get(i);

            switch (i) {
                case 0: sigunguCode1 = place; break;
                case 1: sigunguCode2 = place; break;
                case 2: sigunguCode3 = place; break;
            }
        }
        ms.sel_sigunguCode(a_idx, sigunguCode1, sigunguCode2, sigunguCode3);
    }
    mav.setViewName("redirect:/duration");
    
    return mav;
}

```
ì„ íƒëœ ì¥ì†Œì˜ ì½”ë“œì¸ sigunguCode1, sigunguCode2, sigunguCode3 ë³€ìˆ˜ë¥¼ 0ìœ¼ë¡œ ì´ˆê¸°í™”. 
ì„ íƒëœ ì¥ì†Œê°€ nullì´ ì•„ë‹ˆê³  ë¹„ì–´ìˆì§€ ì•Šì€ ê²½ìš°ì— ë¦¬ìŠ¤íŠ¸ì— ìˆëŠ” ì¥ì†Œ ì½”ë“œë¥¼ ë°˜ë³µí•˜ë©´ì„œ ê°ê°ì˜ ì½”ë“œ ê°’ì„ ë³€ìˆ˜ì— í• ë‹¹ í›„ ms.sel_sigunguCode(a_idx, sigunguCode1, sigunguCode2, sigunguCode3)ë¥¼ í†µí•´ ì„ íƒ ì¥ì†Œ ì½”ë“œë“¤ì„ dbì— ì €ì¥í•œë‹¤. ì´í›„ duration í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ í•´ì„œ ê²½ê¸° ì¥ì†Œì— ëŒ€í•œ ë‹¤ìŒ ë‹¨ê³„ë¡œ ì´ë™í•˜ê²Œ í•¨.

#### 1. íšŒì›ê°€ì… ì˜ˆì™¸ ì²˜ë¦¬


```
@PostMapping("/signUp")
public String signUp(AccountsVO input, RedirectAttributes redirectAttributes) {
    try {
        validateInput(input);
        ss.addAccount(input);
        return "redirect:/"; // ì„±ê³µ ì‹œ ë©”ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸

    } catch (NoSuchAlgorithmException e) {
        logger.error("ë¹„ë°€ë²ˆí˜¸ í•´ì‹± ì²˜ë¦¬ ì‹¤íŒ¨:", e);
        redirectAttributes.addFlashAttribute("errorMessage", "ì„œë²„ì—ì„œ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.");
        return "redirect:/member/serverError"; 

    } catch (DuplicateUserException e) {
        logger.warn("ì¤‘ë³µëœ ì‚¬ìš©ì ì •ë³´: " + input.toString(), e);
        redirectAttributes.addFlashAttribute("errorMessage", e.getMessage());
        redirectAttributes.addFlashAttribute("duplicateFields", e.getFieldNames()); 
        return "redirect:/member/duplicateError"; 

    } catch (ValidationException e) {
        logger.warn("ì…ë ¥ê°’ì´ ìœ íš¨í•˜ì§€ ì•ŠìŒ: " + input.toString(), e);
        redirectAttributes.addFlashAttribute("errorMessage", e.getMessage());
        return "redirect:/member/validateError"; 

    } catch (Exception e) {
        logger.error("Unexpected error occurred during signup", e);
        redirectAttributes.addFlashAttribute("errorMessage", "ì˜ˆê¸°ì¹˜ ì•Šì€ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.");
        return "redirect:/member/signupError"; 
    }
}

```
ì…ë ¥ê°’ ê²€ì¦ ë° ì˜ˆì™¸ ì²˜ë¦¬:
validateInput(input) ë©”ì„œë“œë¥¼ í†µí•´ ì‚¬ìš©ì ì…ë ¥ì— ëŒ€í•œ ìœ íš¨ì„±ì„ ê²€ì‚¬í•¨ìœ¼ë¡œì¨, ì˜ëª»ëœ ë°ì´í„°ê°€ ì„œë¹„ìŠ¤ë¡œ ë„˜ì–´ê°€ì§€ ì•Šë„ë¡ ì˜ˆë°©í•˜ê³  ë‹¤ì–‘í•œ ì˜ˆì™¸ë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ ê° ìƒí™©ì— ë§ëŠ” ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ì‚¬ìš©ìì—ê²Œ ì „ë‹¬í•¨.

ë¡œê¹… ê¸°ëŠ¥:
ê° ì˜ˆì™¸ì— ëŒ€í•´ ì ì ˆí•œ ë¡œê·¸ë¥¼ ë‚¨ê¹€ìœ¼ë¡œì¨, ì‹œìŠ¤í…œì˜ ìƒíƒœë¥¼ ëª¨ë‹ˆí„°ë§í•  ìˆ˜ ìˆëŠ” ê¸°íšŒë¥¼ ì œê³µí•˜ì—¬ ë¬¸ì œ ë°œìƒ ì‹œ ë””ë²„ê¹…ì„ ìš©ì´í•˜ê²Œ ë§Œë“¦.

RedirectAttributes í™œìš©:
RedirectAttributesë¥¼ ì‚¬ìš©í•˜ì—¬ ì¼íšŒì„± ë°ì´í„°ë¥¼ í”Œë˜ì‹œ ì†ì„±ìœ¼ë¡œ ì „ë‹¬í•¨ìœ¼ë¡œì¨ ì¤‘ë³µëœ ì—ëŸ¬ ë©”ì„¸ì§€ ì „ì†¡ì„ í”¼í•˜ê³  í˜ì´ì§€ ê°„ ì •ë³´ë¥¼ ì•ˆì „í•˜ê²Œ ì „ë‹¬í•  ìˆ˜ ìˆìŒ.

#### 2. ì¹´í…Œê³ ë¦¬ ë³„ë¡œ(ë¬¸í™”ì‹œì„¤, ê´€ê´‘ì§€, ë ˆí¬ì¸ , ìˆ™ë°•, ìŒì‹ì  ë“±) í•´ë‹¹ ì§€ì—­ì˜ ì¶”ì²œì¥ì†Œê°€ ì§€ë„ì— ë§ˆì»¤ë¡œ í‘œì‹œë˜ì–´ ì¶”ì²œ
	
##### VIEW

```
<div class="custom-tab-menu">

                    <div class="custom-tab-row">
                        <a th:href="@{/recommendResult?(seldate=${seldate},type=0)}"><button class="custom-tab-link">ì „ì²´</button></a>
                        <a th:href="@{/recommendResult?(seldate=${seldate},type=28)}"><button class="custom-tab-link">ë ˆí¬ì¸ </button></a>
                    </div>

                    <div class="custom-tab-row">
                        <a th:href="@{/recommendResult?(seldate=${seldate},type=14)}"><button class="custom-tab-link">ë¬¸í™”ì‹œì„¤</button></a>
                        <a th:href="@{/recommendResult?(seldate=${seldate},type=32)}"><button class="custom-tab-link">ìˆ™ë°•</button></a>
                    </div>
                    
                     <div class="custom-tab-row">
                        <a th:href="@{/recommendResult?(seldate=${seldate},type=12)}"><button class="custom-tab-link">ê´€ê´‘ì§€</button></a>
                        <a th:href="@{/recommendResult?(seldate=${seldate},type=39)}"><button class="custom-tab-link">ìŒì‹ì </button></a>
                    </div>
                </div>


```
TOUR APIì— ìˆëŠ” ë°ì´í„°ë¥¼ í™œìš©í•´ì„œ ê°ê°ì˜ ì¹´í…Œê³ ë¦¬ë³„ë¡œ ì¥ì†Œë¥¼ ì¶”ì²œí•´ ì¤Œ.

##### Service
```



```
##### DAO
```

```


#### 3.í”ŒëŸ¬ìŠ¤ ë²„íŠ¼ì„ ë™í•´ ì—¬í–‰ ê³„íšì— ì¶”ê°€ , ì¥ì†Œ ì´ë¦„ í´ë¦­ ì‹œ ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™

##### Controller 
```
@GetMapping("planadd")
	public ModelAndView planaddpublic ModelAndView planadd(int p_idx, int a_idx, int areaCode, int sigunguCode1, 
                            int sel_idx, int duration, String seldate, int day) {

		// HTTPìš”ì²­ì—ì„œ ì „ë‹¬ë˜ëŠ” ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¥¼ ë°›ì•„ì˜¨ë‹¤.
	    ModelAndView mav = new ModelAndView();
	    int duration1 = duration /5;//ì´ ê¸°ê°„ì„ 5ë¡œ ë‚˜ëˆ ì„œ ì €ì¥
	    
	    TravelplanVO result = new TravelplanVO();//TravelplanVOê°ì²´ë¥¼ ìƒì„±í•´ì„œ ì‚¬ìš©ìê°€
	    //ìš”ì²­í•œ ì—¬í–‰ ê³„íš ì •ë³´ë¥¼ ë‹´ì„ ì¤€ë¹„ë¥¼ í•œë‹¤.
	    
	    result.setA_idx(a_idx);
	    result.setAreaCode(areaCode);
	    result.setSigunguCode1(sigunguCode1);
	    result.setDuration(duration1);
	    result.setDay(day);
	    
	    //ì„œë¹„ìŠ¤ê³„ì¸µì˜ planadd()ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ì—¬í–‰ê³„íšì„ dbì— ì €ì¥
	    //([p_idx,a_idx..)ë¥¼ ì „ë‹¬í•´ì„œ ìƒˆë¡œìš´ ì—¬í–‰ ê³„íšì´ ì¶”ê°€ëœë‹¤.
	    ts.planadd(p_idx,a_idx,areaCode,sigunguCode1,duration1,seldate,day);
	    //ì—¬í–‰ ê³„íšì´ ì¶”ê°€ëœ í›„, ì‚¬ìš©ìë¥¼ recommendResultë¼ëŠ” ê²½ë¡œë¡œ ë¦¬ë””ë ‰ì…˜í•¨
	    //redirect:/recommendResultë¼ëŠ” ë¦¬ë””ë ‰ì…˜ ë°©ì‹ìœ¼ë¡œ í˜ì´ì§€ë¥¼ ì´ë™ì‹œí‚¤ë©°,
	    //ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¡œ seldate(ì„ íƒë‚ ì§œ)ì™€ type=0ì„ ì „ë‹¬
	    //ì‚¬ìš©ìê°€ ì„ íƒí•œ ë‚ ì§œì— ë”°ë¥¸ ì¶”ì²œ ê²°ê³¼ í˜ì´ì§€ë¡œ ë¦¬ë””ë ‰ì…˜í•¨
	    mav.setViewName("redirect:/recommendResult?seldate="+seldate+"&type=0");
	    //ë¦¬ë””ë ‰ì…˜í•  urlì´ ì„¤ì •ëœ ìƒíƒœì—ì„œ ì´ ë©”ì„œë“œê°€ ì¢…ë£Œë˜ë©´, ë¸Œë¼ìš°ì €ëŠ” í•´ë‹¹ urlë¡œ ì´ë™
	    return mav;
	}	
```
##### Service 
```
	public int planadd(int p_idx, int a_idx, int areaCode, int sigunguCode1,
			int duration, String seldate,int day) {
		
		return dao.insert(p_idx,a_idx,areaCode,sigunguCode1,duration,seldate,day);
	}
```
##### DAO
```
@Insert("insert into travelplan(p_idx,a_idx,areaCode,sigunguCode1,duration,seldate,day) values(#{p_idx},#{a_idx},#{areaCode},#{sigunguCode1},#{duration},#{seldate},#{day})")
	int insert(@Param("p_idx") int p_idx, 
      @Param("a_idx") int a_idx, 
      @Param("areaCode") int areaCode, 
      @Param("sigunguCode1") int sigunguCode1,
      @Param("duration") int duration,
      @Param("seldate") String seldate,
      @Param("day") int day);
```

#### 4. ì¼ì •ì— ë”°ë¥¸ ì¥ì†Œ ì¶”ê°€ í›„ ì—¬í–‰ ê³„íš ë²„íŠ¼ í´ë¦­ ì‹œ ì‚¬ìš©ìê°€ ë‚ ì§œë³„ ì¶”ê°€í•œ ì¥ì†Œ ë¦¬ìŠ¤íŠ¸ í™•ì¸ ê°€ëŠ¥

##### HTML
```
<div th:if="${Planplace.size() > 0}"><!-- íƒ€ì„ë¦¬í”„ ì¡°ê±´ë¬¸, ì„œë²„ì—ì„œ ë°›ì•„ì˜¨ ì—¬í–‰ ê³„íš ë¦¬ìŠ¤íŠ¸ê°€ ìˆëŠ” ê²½ìš°ì—ë§Œ í•´ë‹¹ ë‚´ìš© ì¶œë ¥ -->
    <div class="tab-menu"><!-- íƒ­ ë©”ë‰´ -->
        <!-- íƒ­ ë²„íŠ¼ ìƒì„±: 1ë¶€í„° í•´ë‹¹ ì—¬í–‰ ê³„íšì˜ ì¼ìˆ˜ ë§Œí¼ ë²„íŠ¼ì„ ìƒì„±í•˜ëŠ”ë° ì‚¬ìš©, ${i}ëŠ” í˜„ì¬ ë°˜ë³µ ì¸ë±ìŠ¤-->
        <button th:each="i : ${#numbers.sequence(1, Planplace[0].duration)}" 
                th:text="'Day ' + ${i}"
                th:onclick="'openTab(event, \'tab' + ${i} + '\', '+ ${i} +', this.getAttribute(\'data-seldate\'))'"
                th:data-seldate="${Planplace[0].seldate}"
                class="tab-link">
        </button>
       
    </div>
```

##### Controller
```
	@GetMapping("travelplandetail")
	//1.ë©”ì„œë“œ ì„ ì–¸
	//HTTPìš”ì²­ìœ¼ë¡œ seldateë¼ëŠ” íŒŒë¼ë¯¸í„°ë¥¼ ë°›ì•„ì˜¨ë‹¤. í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ HttpSessionê°ì²´ë¥¼ ë°›ìŒ
	public ModelAndView travelplandetail(@RequestParam("seldate")String seldate, HttpSession session) {
		//2.ModelAndView ê°ì²´ ìƒì„±
		ModelAndView mav = new ModelAndView();
		//3.ì‚¬ìš©ì ì •ë³´ ê°€ì ¸ì˜¤ê¸°
		AccountsVO user = (AccountsVO) session.getAttribute("user");
		int user_idx = user.getAccounts_idx();
		
		
		//4.ì—¬í–‰ ê³„íš ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
		mav.addObject("Planplace", ts.getPlanplace(user_idx,seldate));
		//TravelplanServiceì˜ getPlanplace() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬, 
		//íŠ¹ì • ì‚¬ìš©ìì˜ íŠ¹ì • ë‚ ì§œ(seldate)ì— ëŒ€í•œ ì—¬í–‰ ê³„íšì„ ê°€ì ¸ì˜´
		//user_idxì™€ seldateëŠ” ì„œë¹„ìŠ¤ ë©”ì„œë“œì— ì „ë‹¬ë˜ì–´ 
		//ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‚¬ìš©ìì˜ í•´ë‹¹ ë‚ ì§œì— ë§ëŠ” ì—¬í–‰ ê³„íš ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´.
		//ì´ ë©”ì„œë“œì—ì„œ ê°€ì ¸ì˜¨ ì—¬í–‰ ê³„íš ë°ì´í„°ëŠ” Planplaceë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ëª¨ë¸ì— ì¶”ê°€
		return mav;
	}

```
traveldetail ë©”ì„œë“œê°€ í˜¸ì¶œë˜ë©´, ì‚¬ìš©ìê°€ ì„ íƒí•œ ë‚ ì§œ(seldate)ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ê³ , ì„¸ì…˜ì—ì„œ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜´
ì‚¬ìš©ìì˜ ê³ ìœ  ID(user_idx)ì™€ ì„ íƒí•œ ë‚ ì§œë¥¼ ì´ìš©í•´ TravelplanServiceì˜ getPlanplace() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ í•´ë‹¹ ë‚ ì§œì— ë§ëŠ” ì—¬í–‰ ê³„íš ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´.
ê°€ì ¸ì˜¨ ë°ì´í„°ë¥¼ Planplaceë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ModelAndView ê°ì²´ì— ì¶”ê°€í•˜ê³ , ì´ ë°ì´í„°ë¥¼ ì‚¬ìš©í•´ ì—¬í–‰ ê³„íš ìƒì„¸ ì •ë³´ë¥¼ í™”ë©´ì— ì¶œë ¥í•  ìˆ˜ ìˆë„ë¡ ë·°ë¡œ ì „ë‹¬

##### Service
```
public List<PlaceVO> getPlanplace(int user_idx, String seldate) {

		return dao.getPlanplace(user_idx,seldate);
	}
```
user ê³ ìœ  ë²ˆí˜¸ì™€ userê°€ ì„ íƒí•œ ë‚ ì§œë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ì„œ getPlanPlaceë¡œ ë„˜ê²¨ì¤€ë‹¤.

##### DAO
```
@Select("select * from place_a_idx where a_idx = #{user_idx} and seldate = #{seldate}")
	List<PlaceVO> getPlanplace(@Param("user_idx") int user_idx, @Param("seldate") String seldate);
```
ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ê°€ì ¸ì˜¨ user_idxì™€ ì„ íƒí•œ ë‚ ì§œ(seldate)ì— ë§ëŠ” ì—¬í–‰ ê³„íšì„ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì°¾ì•„ì„œ ê·¸ ì •ë³´ë¥¼ ê°€ì ¸ì˜¨ í›„ PlaceVO ê°ì²´ë¡œ ì—¬ëŸ¬ ê°œ ë‹´ì•„ ë¦¬ìŠ¤íŠ¸ í˜•ì‹ìœ¼ë¡œ ë°˜í™˜í•¨.


### 5. íŠ¹ì • ì¥ì†Œì— ëŒ€í•œ ìƒì„¸ ì •ë³´ë¥¼ í™•ì¸.

##### 5-1. ì‚¬ìš©ì ì¸ì¦ í™•ì¸
```
if (user == null) {
    mav.setViewName("redirect:/member/login");
    return mav;
}
```
##### 5-2.ì¥ì†Œ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
```
HashMap<String, String> place = ts.getPlace(contenttypeid, contentid);
mav.addObject("place", place);

HashMap<String, String> placeDetails = ts.getPlaceDetails(contenttypeid, contentid);
mav.addObject("detail", placeDetails);
```
ì‚¬ìš©ìê°€ ìš”ì²­í•œ ì¥ì†Œì— ëŒ€í•œ ì •ë³´ë¥¼ ts ì„œë¹„ìŠ¤ë¥¼ í†µí•´ ê°€ì ¸ì˜µë‹ˆë‹¤. ì´ ì •ë³´ëŠ” í˜ì´ì§€ì— í‘œì‹œë  ë‚´ìš©ì…ë‹ˆë‹¤.


##### 5-3. ë¦¬ë·° ë°ì´í„° ì¶”ê°€
```
mav.addObject("reviews", rs.getReviewsByPlaceId(idx)); // ë¦¬ë·° ë°ì´í„° ì¶”ê°€
ì¥ì†Œì— ëŒ€í•œ ë¦¬ë·° ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ì—¬ ì‚¬ìš©ìê°€ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì˜ ì˜ê²¬ì„ ë³¼ ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.
```
##### 5-4. ì¢‹ì•„ìš” ìƒíƒœ í™•ì¸
```
PlaceVO isLiked = ds.isLikedByUser(user.getAccounts_idx(), idx);
int islike;
if (isLiked == null) {
    islike = 0;
} else {
    islike = isLiked.getIslike();
}

mav.addObject("isLiked", islike);

```
ì‚¬ìš©ìê°€ í•´ë‹¹ ì¥ì†Œë¥¼ ì¢‹ì•„ìš” í–ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ê³ , ê·¸ ìƒíƒœë¥¼ ëª¨ë¸ì— ì¶”ê°€

#### 6.ê²Œì‹œíŒ CRUD

##### CREATE (ìƒì„±)
```
// Q&A ê¸€ì“°ê¸°
@PostMapping("/cswrite")
public String cswrite(CustomerVO input) {
    cs.cusWrite(input); // ê³ ê° ì„œë¹„ìŠ¤ì— ìƒˆë¡œìš´ Q&A ê²Œì‹œê¸€ ì¶”ê°€
    return "redirect:/member/customer"; // ëª©ë¡ìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
}
```
##### Read (ì½ê¸°)
```
@GetMapping("/customer")
public ModelAndView csboard(@RequestParam(value = "idx", required = false) Integer idx) {
    ModelAndView mav = new ModelAndView();
    
    Map<String, Object> announceMap = as.announce(idx);
    mav.addObject("pg", announceMap.get("pg"));
    mav.addObject("announce", announceMap.get("list"));
    
    Map<String, Object> qnaMap = cs.cstest(idx);
    mav.addObject("qnapg", qnaMap.get("qnapg"));
    mav.addObject("qna", qnaMap.get("list"));
    
    return mav; // ê³µì§€ì‚¬í•­ê³¼ Q&A ëª©ë¡ ë°˜í™˜
}

```

##### Q&A ê²Œì‹œê¸€ ë³´ê¸°

```
@GetMapping("/csView/{board_idx}")
public ModelAndView csview(@PathVariable("board_idx") int idx) {
    ModelAndView mav = new ModelAndView();
    
    mav.addObject("row", cs.getCsBoardOne(idx)); // ê²Œì‹œê¸€ ì •ë³´
    mav.addObject("replys", rs.getReplys(idx)); // ëŒ“ê¸€ ì •ë³´
    mav.setViewName("member/csView");
    
    return mav; // ê²Œì‹œê¸€ ìƒì„¸ ì •ë³´ ë°˜í™˜
}

```
##### Update (ìˆ˜ì •) Q&A ê²Œì‹œê¸€ ìˆ˜ì •

```
@PostMapping("/csUpdate/{board_idx}")
public String update(CustomerVO input) {
    cs.update(input); // Q&A ê²Œì‹œê¸€ ìˆ˜ì •
    return "redirect:/member/customer#qna"; // ëª©ë¡ìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
}

```
##### ëŒ“ê¸€ ìˆ˜ì •
```
@PostMapping("/repUpdate")
public String repUpdate(ReplyVO input) {
    rs.updateReply(input); // ëŒ“ê¸€ ìˆ˜ì •
    return "redirect:/member/csView/" + input.getC_idx(); // ê²Œì‹œê¸€ ìƒì„¸ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
}
```
##### Delete (ì‚­ì œ)
##### Q&A ê²Œì‹œê¸€ ì‚­ì œ
```
@GetMapping("/csdelete/{board_idx}")
public String csdelete(CustomerVO idx) {
    cs.deleteCS(idx); // Q&A ê²Œì‹œê¸€ ì‚­ì œ
    return "redirect:/member/customer#qna"; // ëª©ë¡ìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
}

```
##### ëŒ“ê¸€ ì‚­ì œ
```
@GetMapping("/csView/delete")
public String repdelete(@RequestParam(value = "rep_idx", required = false) Integer rep_idx, 
                        @RequestParam(value = "c_idx", required = false) Integer c_idx) {
    rs.deleteRep(rep_idx); // ëŒ“ê¸€ ì‚­ì œ
    return "redirect:/member/csView/" + c_idx; // ê²Œì‹œê¸€ ìƒì„¸ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
}

```

### 7. ì°œ ëª©ë¡ 
ì¥ì†Œ ë³„ ìƒì„¸ í˜ì´ì§€ì—ì„œ ìš°ì¸¡ ìƒë‹¨ì˜ í•˜íŠ¸ë¥¼ í´ë¦­í•˜ë©´, ì°œ ëª©ë¡ì—ì„œ ì§€ë„ì— ë§ˆì»¤ë¡œ í‘œì‹œëœ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŒ(ì‚­ì œ ê°€ëŠ¥)

##### HTML - ë§ˆì»¤ ì¶”ê°€ ë° í† ê¸€ ê¸°ëŠ¥

```
function toggleMarker(check, x, y) {
    var key = x + ',' + y; // í‚¤ë¥¼ x, y ì¢Œí‘œë¡œ ì„¤ì •
    var locationItem = check.closest('.location-item');

    if (check.checked) {
        // ì²´í¬ëœ ê²½ìš° ë§ˆì»¤ ì¶”ê°€
        var marker = new kakao.maps.Marker({
            position: new kakao.maps.LatLng(y, x),
            map: map // í˜„ì¬ ì§€ë„ì— ë§ˆì»¤ ì¶”ê°€
        });
        markers[key] = marker; // ë§ˆì»¤ë¥¼ markers ê°ì²´ì— ì €ì¥
        addMarkerClickEvent(marker, key, locationItem); // ë§ˆì»¤ í´ë¦­ ì´ë²¤íŠ¸ ì¶”ê°€
        locationItem.classList.add('selected'); // ì„ íƒëœ í•­ëª© ìŠ¤íƒ€ì¼ ë³€ê²½
    } else {
        // ì²´í¬ í•´ì œëœ ê²½ìš° ë§ˆì»¤ ì œê±°
        if (markers[key]) {
            markers[key].setMap(null); // ì§€ë„ì—ì„œ ë§ˆì»¤ ì œê±°
            delete markers[key]; // markers ê°ì²´ì—ì„œ ì‚­ì œ
        }
        if (overlays[key]) {
            overlays[key].setMap(null); // ì˜¤ë²„ë ˆì´ ì œê±°
            delete overlays[key]; // overlays ê°ì²´ì—ì„œ ì‚­ì œ
        }
        locationItem.classList.remove('selected'); // ì„ íƒ í•´ì œ ì‹œ ìŠ¤íƒ€ì¼ ë³€ê²½
    }
}
```

##### Controller - ì‚¬ìš©ìê°€ íŠ¹ì • ì¥ì†Œì— ì¢‹ì•„ìš” ì¶”ê°€í•˜ëŠ” ê¸°ëŠ¥
```
@PostMapping("/member/like")
public ResponseEntity<String> likePlace(@RequestBody LikeVO likeVO) {
    try {
        // ì¥ì†Œ IDì™€ ì‚¬ìš©ì IDë¥¼ ê°€ì ¸ì™€ ì¢‹ì•„ìš” ì¶”ê°€
        int idx = likeVO.getP_idx();
        like.likeupdate(idx, likeVO.getA_idx());
        like.insertLike(likeVO);
        return ResponseEntity.ok("Liked"); // ì„±ê³µ ì‹œ ì‘ë‹µ
    } catch (Exception e) {
        e.printStackTrace();  // ì˜¤ë¥˜ ë¡œê·¸ ì¶œë ¥
        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)
                             .body("Error occurred while liking place.");
    }
}

```


##### DAO - ì‚¬ìš©ìê°€ ì¢‹ì•„í•˜ëŠ” ì¥ì†Œì— ëŒ€í•œ ì •ë³´ë¥¼ like_place í…Œì´ë¸”ì— ì¶”ê°€í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„
```
@Insert("INSERT INTO like_place (a_idx, title, addr1, firstimage, mapx, mapy, p_idx, contenttypeid, contentid) " +
       "VALUES (#{a_idx}, #{title}, #{addr1}, #{firstimage}, #{mapx}, #{mapy}, #{p_idx}, #{contenttypeid}, #{contentid})")
void insert(LikeVO likeVO);
```

### 8. ì—¬í–‰ ê³„íš

```
public String[] updateImages(MultipartFile[] images, TraverserStoryVO story) {
    String[] imagePaths = new String[10];
    String uploadDir = "C:/spring/traverse/www/src/main/resources/static/story/";

    for (int i = 0; i < images.length && i < 10; i++) {
        MultipartFile image = images[i];
        if (!image.isEmpty()) {
            String fileName = UUID.randomUUID().toString() + "_" + image.getOriginalFilename();
            File file = new File(uploadDir, fileName);
            try {
                image.transferTo(file);
                imagePaths[i] = fileName;
            } catch (IOException e) {
                e.printStackTrace();
            }
        } else {
            // ê¸°ì¡´ ì´ë¯¸ì§€ë¥¼ ìœ ì§€
            imagePaths[i] = story.getImge1(); // ì˜ˆì‹œë¡œ ì²« ë²ˆì§¸ ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì˜´
        }
    }
    return imagePaths;
}

```

ë‹¤ì¤‘ íŒŒì¼ ì—…ë¡œë“œë¥¼ ê°€ëŠ¥í•˜ê²Œ í•¨:

ë©”ì„œë“œëŠ” MultipartFile[] imagesë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì•„ ì—¬ëŸ¬ íŒŒì¼ì„ í•œ ë²ˆì— ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë¨ìœ¼ë¡œì¨, ì‚¬ìš©ìê°€ ì—¬ëŸ¬ ì´ë¯¸ì§€ë¥¼ ë™ì‹œì— ì—…ë¡œë“œí•  ìˆ˜ ìˆëŠ” í¸ë¦¬í•¨ì„ ì œê³µí•¨.

ê³ ìœ í•œ íŒŒì¼ëª… ìƒì„±ì„ í†µí•´ ì¶©ëŒì„ ë°©ì§€í•¨:

UUID.randomUUID().toString()ì„ ì‚¬ìš©í•˜ì—¬ ê° íŒŒì¼ì— ëŒ€í•´ ê³ ìœ í•œ ì´ë¦„ì„ ìƒì„±í•¨ìœ¼ë¡œì¨, íŒŒì¼ëª… ì¶©ëŒì„ ë°©ì§€í•˜ê³  ì„œë²„ì˜ ë°ì´í„° ë¬´ê²°ì„±ì„ ìœ ì§€í•¨.

ê¸°ì¡´ ì´ë¯¸ì§€ë¥¼ ìœ ì§€í•¨ìœ¼ë¡œì¨ ì‚¬ìš©ì ê²½í—˜ì„ ê°œì„ í•¨:

ì‚¬ìš©ìê°€ ì—…ë¡œë“œí•œ íŒŒì¼ì´ ë¹„ì–´ ìˆì„ ê²½ìš° ê¸°ì¡´ ì´ë¯¸ì§€ë¥¼ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ë„ë¡ ë¡œì§ì„ êµ¬ì„±í•¨ìœ¼ë¡œì¨, ë¶ˆí•„ìš”í•œ ë°ì´í„° ì†ì‹¤ì„ ë°©ì§€í•˜ê³  ì‚¬ìš©ì ê²½í—˜ì„ í–¥ìƒì‹œí‚´.

ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ í†µí•´ ì•ˆì •ì„±ì„ ë†’ì„:

try-catch ë¸”ë¡ì„ í†µí•´ íŒŒì¼ ì „ì†¡ ì¤‘ ë°œìƒí•  ìˆ˜ ìˆëŠ” IOExceptionì„ ì²˜ë¦¬í•¨ìœ¼ë¡œì¨, ì½”ë“œì˜ ì•ˆì •ì„±ì„ ì¦ê°€ì‹œí‚´.

ë°°ì—´ì„ í†µí•œ ê²°ê³¼ ë°˜í™˜ìœ¼ë¡œ ì‰½ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ í•¨:

ë©”ì„œë“œëŠ” ë°°ì—´ imagePathsë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë“  ì´ë¯¸ì§€ ê²½ë¡œë¥¼ ë°˜í™˜í•¨ìœ¼ë¡œì¨, í˜¸ì¶œ ì¸¡ì—ì„œ ì—¬ëŸ¬ ì´ë¯¸ì§€ë¥¼ ì‰½ê²Œ ê´€ë¦¬í•˜ê³  ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ ë„ì›€.

### 9. ApiService

ì™¸ë¶€ APIë¡œë¶€í„° ë°ì´í„°ë¥¼ JSON í˜•ì‹ìœ¼ë¡œ ê°€ì ¸ì˜¤ê³ , ì´ë¥¼ íŒŒì‹±í•˜ì—¬ ApiVO ê°ì²´ë¡œ ë³€í™˜í•œ ë’¤ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ì²˜ë¦¬

#### 1)ê¸°ë³¸ url ì„¤ì •

```
String url = "https://apis.data.go.kr/B551011/KorService1/areaBasedList1?";
```

API ìš”ì²­ì„ ë³´ë‚¼ ê¸°ë³¸ URLë¡œ, ì´ URLì— ì¶”ê°€ì ì¸ íŒŒë¼ë¯¸í„°ë“¤ì„ ë¶™ì—¬ì„œ ìµœì¢… API ìš”ì²­ URLì„ ë§Œë“¦

#### 2)íŒŒë¼ë¯¸í„° ì„¤ì •

```
HashMap<String, String> params = new HashMap<>();
params.put("ServiceKey", "6RkKaXlTQt2IajvJnERjyEHx6pTvNp0n8ZT/iBQPLe4bXmMbm0o8mBSubhyyCBEjYC0Ur+OsD/pNUdrxNp7owQ==");
params.put("numOfRows", "800");
params.put("pageNo", "21");
params.put("numOfRows", "1000");
params.put("pageNo", "17");
params.put("MobileOS", "ETC");
params.put("MobileApp", "AppTest");
params.put("listYN", "Y");
params.put("arrange", "A");
params.put("contentTypeId", "39");
params.put("_type", "json");
```

ìš”ì²­ì— í•„ìš”í•œ íŒŒë¼ë¯¸í„°ë“¤ì„ HashMapì— ì €ì¥.
ServiceKey: API í˜¸ì¶œì— í•„ìš”í•œ ì¸ì¦í‚¤.
numOfRows, pageNo: í•œ í˜ì´ì§€ì— ë³´ì—¬ì¤„ í•­ëª©ì˜ ìˆ˜ì™€ í˜ì´ì§€ ë²ˆí˜¸.
MobileOS, MobileApp: ëª¨ë°”ì¼ í™˜ê²½ ë° ì•± ì´ë¦„ì„ ë‚˜íƒ€ë‚´ëŠ” ê°’.
listYN: ë¦¬ìŠ¤íŠ¸ í‘œì‹œ ì—¬ë¶€.
arrange: ì •ë ¬ ë°©ì‹.
contentTypeId: íŠ¹ì • ì¹´í…Œê³ ë¦¬(ì—¬ê¸°ì„œëŠ” ìŒì‹ì )ì˜ ì½˜í…ì¸ ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°’.
_type: ì‘ë‹µ ë°ì´í„°ë¥¼ JSON í˜•ì‹ìœ¼ë¡œ ìš”ì²­.

#### 3)íŒŒë¼ë¯¸í„° URL ì¸ì½”ë”© ë° URL ìƒì„±

```
for(String key : params.keySet()) {
   String value = params.get(key);
   value = URLEncoder.encode(value, "UTF-8");
   url += String.format("%s=%s&", key, value);
}
```

íŒŒë¼ë¯¸í„° ê°’ë“¤ì„ UTF-8ë¡œ ì¸ì½”ë”©í•˜ì—¬ ì•ˆì „í•œ URLë¡œ ë³€í™˜.
urlì— íŒŒë¼ë¯¸í„°ë“¤ì„ key=value í˜•ì‹ìœ¼ë¡œ ì¶”ê°€.

#### 4)HTTP ì—°ê²° ì„¤ì • ë° ìš”ì²­
```
HttpURLConnection conn = (HttpURLConnection) new URL(url).openConnection();
int responseCode = conn.getResponseCode();
System.out.println(responseCode);
```

HttpURLConnectionì„ í†µí•´ APIì— GET ìš”ì²­ì„ ë³´ëƒ„.
conn.getResponseCode()ëŠ” ì„œë²„ì—ì„œ ì‘ë‹µí•˜ëŠ” HTTP ìƒíƒœ ì½”ë“œë¥¼ ë°˜í™˜. ì—¬ê¸°ì„œ 200ì€ ìš”ì²­ì´ ì„±ê³µí–ˆìŒì„ ì˜ë¯¸

#### 5) ì‘ë‹µ ë°ì´í„° ìˆ˜ì‹ 
```
if (responseCode == 200) {
   Scanner sc = new Scanner(conn.getInputStream());
   while (sc.hasNextLine()) {
      data += sc.nextLine() + "\n";
   }
   sc.close();
   System.out.println(data);
}
```
ì„œë²„ê°€ 200 ì‘ë‹µì„ ë³´ë‚¸ ê²½ìš°, Scannerë¥¼ ì‚¬ìš©í•´ ì‘ë‹µ ë°”ë”” ë°ì´í„°ë¥¼ ì½ì–´ì˜¤ê³ , ì½ì–´ì˜¨ ë°ì´í„°ë¥¼ ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ì—¬ dataì— ì €ì¥

#### 6) JSON íŒŒì‹± ë° ë°ì´í„° ë§¤í•‘
```
JsonMapper jsonMapper = JsonMapper.builder()
                                  .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)
                                  .build();
JsonNode jsonNode = jsonMapper.readTree(data).get("response").get("body").get("items").get("item");
return jsonMapper.readValue(jsonNode.toString(), new TypeReference<List<ApiVO>>() {});
```

JsonMapper: Jackson ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ JSON ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê°ì²´.
DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIESë¥¼ falseë¡œ ì„¤ì •í•˜ì—¬, ì •ì˜ë˜ì§€ ì•Šì€ ì†ì„±ì´ ìˆì–´ë„ ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚¤ì§€ ì•Šê³  ë¬´ì‹œ.
readTree: ì‘ë‹µë°›ì€ JSON ë°ì´í„°ë¥¼ íŒŒì‹±í•˜ì—¬ JsonNode íŠ¸ë¦¬ êµ¬ì¡°ë¡œ ë³€í™˜.
jsonNodeëŠ” JSON ë°ì´í„°ì—ì„œ response.body.items.item ë…¸ë“œì— ì ‘ê·¼.
readValue: jsonNodeë¥¼ List<ApiVO>ë¡œ ë³€í™˜ í›„,TypeReferenceë¥¼ ì‚¬ìš©í•˜ì—¬ ì œë„¤ë¦­ íƒ€ì…ì¸ List<ApiVO>ì— JSON ë°ì´í„°ë¥¼ ë§¤í•‘.

## ERD Diagram ğŸ“¦

<p align="center">
<img src="https://github.com/user-attachments/assets/a352a8b6-542f-4161-ae84-43118944ef09" width="60%">
</p>

#### 1. accounts í…Œì´ë¸”
ê¸°ë³¸ í‚¤: accounts_idx
accounts_idx ì‚¬ìš©ìë§ˆë‹¤ ê³ ìœ í•œ ì‹ë³„ì ê°’ì´ ë¶€ì—¬ë˜ë©°, ìœ ì €ê°€ ì¤‘ë³µ ì—†ì´ ê´€ë¦¬ëœë‹¤.
ì™¸ë˜ í‚¤ ì—†ìŒ
ì´ìœ : accounts í…Œì´ë¸”ì€ ì‚¬ìš©ì ê³„ì • ì •ë³´ë¥¼ ê´€ë¦¬í•˜ëŠ” í…Œì´ë¸”ë¡œ, ë‹¤ë¥¸ í…Œì´ë¸”ì— ì—°ê²°ë˜ê¸° ìœ„í•œ ì¤‘ì‹¬ í…Œì´ë¸”ì´ê¸° ë•Œë¬¸ì— ì™¸ë˜ í‚¤ëŠ” ì—†ê³  ë‹¤ë¥¸ í…Œì´ë¸”ì—ì„œ ì°¸ì¡°.


#### 2. customer_board í…Œì´ë¸”
ê¸°ë³¸ í‚¤: board_idx
board_idxëŠ” ê° ê²Œì‹œë¬¼ì„ ê³ ìœ í•˜ê²Œ ì‹ë³„í•˜ëŠ” ê¸°ë³¸ í‚¤ì´ë©° ê° ê²Œì‹œë¬¼ì€ ê³ ìœ  IDë¡œ ì‹ë³„ë¨.
ì™¸ë˜ í‚¤: accounts_idx
accounts_idxëŠ” accounts í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ë¥¼ ì°¸ì¡°í•˜ëŠ” ì™¸ë˜ í‚¤ì´ë©° ê²Œì‹œë¬¼ì„ ì‘ì„±í•œ ì‚¬ìš©ìì™€ ì—°ê²°ë˜ë©°, ê²Œì‹œë¬¼ì´ ì–´ë–¤ ì‚¬ìš©ìì˜ ê²ƒì¸ì§€ ê´€ê³„ë¥¼ ë‚˜íƒ€ëƒ„.
ì´ìœ : ê²Œì‹œë¬¼(customer_board)ì€ ì‘ì„±í•œ ì‚¬ìš©ì(accounts)ì™€ ì—°ê²°ë˜ì–´ì•¼ í•˜ë¯€ë¡œ accounts í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ë¥¼ ì°¸ì¡°í•˜ê²Œ ì„¤ì •ë¨. ì´ë¥¼ í†µí•´ ì‚¬ìš©ìê°€ ì‘ì„±í•œ ê²Œì‹œë¬¼ì„ ì‰½ê²Œ ì¡°íšŒí•  ìˆ˜ ìˆìŒ.


#### 3. reply í…Œì´ë¸”
ê¸°ë³¸ í‚¤: rep_idx
rep_idxëŠ” ê° ëŒ“ê¸€ì„ ê³ ìœ í•˜ê²Œ ì‹ë³„í•˜ëŠ” ê¸°ë³¸ í‚¤ì´ë©° ê° ëŒ“ê¸€ì€ ê³ ìœ í•œ ì‹ë³„ìê°€ ìˆì–´ì•¼ í•¨.
ì™¸ë˜ í‚¤: a_idx, c_idx
a_idxëŠ” accounts í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ë¥¼ ì°¸ì¡°í•˜ì—¬ ëŒ“ê¸€ì„ ì‘ì„±í•œ ì‚¬ìš©ìì™€ ì—°ê²°ë¨.
c_idxëŠ” customer_board í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ë¥¼ ì°¸ì¡°í•˜ì—¬ ëŒ“ê¸€ì´ ë‹¬ë¦° ê²Œì‹œë¬¼ê³¼ ì—°ê²°ë¨.
ì´ìœ : ëŒ“ê¸€ì€ ë°˜ë“œì‹œ íŠ¹ì • ì‚¬ìš©ì(accounts)ì™€ íŠ¹ì • ê²Œì‹œë¬¼(customer_board)ì— ì†í•´ì•¼ í•˜ë¯€ë¡œ ë‘ í…Œì´ë¸”ì˜ ì™¸ë˜ í‚¤ë¥¼ ì„¤ì •í•¨.


#### 4. announcement í…Œì´ë¸”
ê¸°ë³¸ í‚¤: announcement_idx
announcement_idxëŠ” ê³µì§€ì‚¬í•­ì„ ê³ ìœ í•˜ê²Œ ì‹ë³„í•˜ëŠ” ê¸°ë³¸ í‚¤. ê° ê³µì§€ì‚¬í•­ì€ ê³ ìœ í•œ ì‹ë³„ì ê°’ì„ ê°€ì§.
ì™¸ë˜ í‚¤ ì—†ìŒ
ì´ìœ : ê³µì§€ì‚¬í•­ í…Œì´ë¸”ì€ ê³µì§€ì‚¬í•­ ìì²´ë§Œì„ ê´€ë¦¬í•˜ëŠ” í…Œì´ë¸”ë¡œ, ë³„ë„ì˜ ì™¸ë˜ í‚¤ê°€ í•„ìš” ì—†ìŒ.


#### 5. like_place í…Œì´ë¸”
ê¸°ë³¸ í‚¤: like_idx
like_idxëŠ” ê° ì¢‹ì•„ìš”ë¥¼ ê³ ìœ í•˜ê²Œ ì‹ë³„í•˜ëŠ” ê¸°ë³¸ í‚¤.
ì™¸ë˜ í‚¤: a_idx, p_idx
a_idxëŠ” accounts í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ë¥¼ ì°¸ì¡°í•˜ì—¬ ì¢‹ì•„ìš”ë¥¼ ëˆ„ë¥¸ ì‚¬ìš©ìë¥¼ ë‚˜íƒ€ëƒ„.
p_idxëŠ” place í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ë¥¼ ì°¸ì¡°í•˜ì—¬ ì¢‹ì•„ìš”ë¥¼ ëˆ„ë¥¸ ì¥ì†Œë¥¼ ë‚˜íƒ€ëƒ„.
ì´ìœ : ì¢‹ì•„ìš”ëŠ” ì‚¬ìš©ì(accounts)ì™€ ì¥ì†Œ(place)ì— ì†í•˜ëŠ” ê¸°ëŠ¥ì´ë¯€ë¡œ, ê°ê°ì˜ ì™¸ë˜ í‚¤ë¥¼ ì„¤ì •í•˜ì—¬ ì‚¬ìš©ìê°€ ì–´ë–¤ ì¥ì†Œì— ì¢‹ì•„ìš”ë¥¼ ëˆŒë €ëŠ”ì§€ ì•Œ ìˆ˜ ìˆë„ë¡ ì„¤ê³„í•¨.


#### 6. place í…Œì´ë¸”
ê¸°ë³¸ í‚¤: idx
idxëŠ” ì¥ì†Œë¥¼ ê³ ìœ í•˜ê²Œ ì‹ë³„í•˜ëŠ” ê¸°ë³¸ í‚¤.
ì™¸ë˜ í‚¤ ì—†ìŒ
ì´ìœ : ì¥ì†Œ í…Œì´ë¸”ì€ ê° ì¥ì†Œì˜ ì •ë³´ë¥¼ ê´€ë¦¬í•˜ëŠ” ë…ë¦½ëœ í…Œì´ë¸”ì´ë¯€ë¡œ ì™¸ë˜ í‚¤ ì°¸ì¡°ëŠ” ì—†ìŒ.

#### 7. dep_reply í…Œì´ë¸”
ê¸°ë³¸ í‚¤: drep_idx
drep_idxëŠ” ê° ë‹µê¸€(ëŒ“ê¸€ì— ë‹¬ë¦° ëŒ“ê¸€)ì„ ê³ ìœ í•˜ê²Œ ì‹ë³„í•˜ëŠ” ê¸°ë³¸ í‚¤.
ì™¸ë˜ í‚¤: a_idx, p_idx
a_idxëŠ” accounts í…Œì´ë¸”ì„ ì°¸ì¡°í•˜ì—¬ ë‹µê¸€ì„ ì‘ì„±í•œ ì‚¬ìš©ìë¥¼ ë‚˜íƒ€ëƒ„.
p_idxëŠ” place í…Œì´ë¸”ì„ ì°¸ì¡°í•˜ì—¬ ë‹µê¸€ì´ ë‹¬ë¦° ì¥ì†Œë¥¼ ë‚˜íƒ€ëƒ„.
ì´ìœ : ë‹µê¸€ì€ ì‚¬ìš©ìì™€ íŠ¹ì • ì¥ì†Œì™€ ê´€ë ¨ì´ ìˆìœ¼ë¯€ë¡œ, ê°ê°ì˜ ì™¸ë˜ í‚¤ë¥¼ í†µí•´ ê´€ê³„ ì •ì˜.


#### 8. sel_place í…Œì´ë¸”
ê¸°ë³¸ í‚¤: sel_idx
sel_idxëŠ” ì„ íƒëœ ì¥ì†Œë¥¼ ê³ ìœ í•˜ê²Œ ì‹ë³„í•˜ëŠ” ê¸°ë³¸ í‚¤.
ì™¸ë˜ í‚¤: a_idx
a_idxëŠ” accounts í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ë¥¼ ì°¸ì¡°í•˜ì—¬ ì¥ì†Œë¥¼ ì„ íƒí•œ ì‚¬ìš©ìë¥¼ ë‚˜íƒ€ëƒ„.
ì´ìœ : ì„ íƒëœ ì¥ì†ŒëŠ” íŠ¹ì • ì‚¬ìš©ìì— ì˜í•´ ê²°ì •ë˜ë¯€ë¡œ, ì‚¬ìš©ì ì •ë³´ë¥¼ ì°¸ì¡°í•˜ê¸° ìœ„í•´ ì™¸ë˜ í‚¤ ì‚¬ìš©.


#### 9. Travelreview í…Œì´ë¸”
ê¸°ë³¸ í‚¤: idx
idxëŠ” ì—¬í–‰ ë¦¬ë·°ë¥¼ ê³ ìœ í•˜ê²Œ ì‹ë³„í•˜ëŠ” ê¸°ë³¸ í‚¤.
ì™¸ë˜ í‚¤: a_idx
a_idxëŠ” accounts í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ë¥¼ ì°¸ì¡°í•˜ì—¬ ì—¬í–‰ ë¦¬ë·°ë¥¼ ì‘ì„±í•œ ì‚¬ìš©ìë¥¼ ë‚˜íƒ€ëƒ„.
ì´ìœ : ì—¬í–‰ ë¦¬ë·°ëŠ” ì‚¬ìš©ìì™€ ì—°ê´€ë˜ë¯€ë¡œ, ë¦¬ë·° ì‘ì„±ìë¥¼ ë‚˜íƒ€ë‚´ê¸° ìœ„í•´ ì™¸ë˜ í‚¤ ì‚¬ìš©.


#### 10. travelplan í…Œì´ë¸”
ê¸°ë³¸ í‚¤: idx
idxëŠ” ì—¬í–‰ ê³„íšì„ ê³ ìœ í•˜ê²Œ ì‹ë³„í•˜ëŠ” ê¸°ë³¸ í‚¤.
ì™¸ë˜ í‚¤: a_idx, p_idx
a_idxëŠ” accounts í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ë¥¼ ì°¸ì¡°í•˜ì—¬ ì—¬í–‰ ê³„íšì„ ì‘ì„±í•œ ì‚¬ìš©ìë¥¼ ë‚˜íƒ€ëƒ„.
p_idxëŠ” place í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ë¥¼ ì°¸ì¡°í•˜ì—¬ ê³„íšëœ ì—¬í–‰ ì¥ì†Œë¥¼ ë‚˜íƒ€ëƒ„.
ì´ìœ : ì—¬í–‰ ê³„íšì€ ì‚¬ìš©ìì™€ ì¥ì†Œì— ì—°ê²°ë˜ë¯€ë¡œ, ì´ë¥¼ ë‚˜íƒ€ë‚´ê¸° ìœ„í•´ ë‘ í…Œì´ë¸”ì˜ ì™¸ë˜ í‚¤ë¥¼ ì‚¬ìš©í•¨.


#### 11. sigungu í…Œì´ë¸”
ê¸°ë³¸ í‚¤: sigunguCode
sigunguCodeëŠ” í–‰ì • êµ¬ì—­(ì‹œêµ°êµ¬)ì„ ê³ ìœ í•˜ê²Œ ì‹ë³„í•˜ëŠ” ê¸°ë³¸ í‚¤.
ì™¸ë˜ í‚¤ ì—†ìŒ
ì´ìœ : ì´ ë…ë¦½ëœ í–‰ì • êµ¬ì—­ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” í…Œì´ë¸”ì´ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ í…Œì´ë¸”ê³¼ì˜ ê´€ê³„ê°€ í•„ìš” ì—†ìŒ.


#### 12. area í…Œì´ë¸”
ê¸°ë³¸ í‚¤: areaCode
areaCodeëŠ” ì§€ì—­ì„ ê³ ìœ í•˜ê²Œ ì‹ë³„í•˜ëŠ” ê¸°ë³¸ í‚¤.
ì™¸ë˜ í‚¤ ì—†ìŒ
ì´ìœ : ì§€ì—­ ì •ë³´ë¥¼ ê´€ë¦¬í•˜ëŠ” ë…ë¦½ í…Œì´ë¸”ë¡œ ì™¸ë¶€ ì°¸ì¡°ê°€ í•„ìš”í•˜ì§€ ì•ŠìŒ


